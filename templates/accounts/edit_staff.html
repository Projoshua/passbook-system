{% extends 'student_registration/base.html' %}

{% block title %}Edit Staff Member{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h3>Edit Staff Member: {{ staff_member.get_full_name }}</h3>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="username">Username</label>
                                    <input type="text" class="form-control" name="username" id="username" 
                                           value="{{ staff_member.username }}" required>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="phone_number">Phone Number</label>
                                    <input type="tel" class="form-control" name="phone_number" id="phone_number" 
                                           value="{{ staff_member.phone_number }}" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="first_name">First Name</label>
                                    <input type="text" class="form-control" name="first_name" id="first_name" 
                                           value="{{ staff_member.first_name }}" required>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="last_name">Last Name</label>
                                    <input type="text" class="form-control" name="last_name" id="last_name" 
                                           value="{{ staff_member.last_name }}" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="email">Email</label>
                                    <input type="email" class="form-control" name="email" id="email" 
                                           value="{{ staff_member.email }}" required>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="user_type">Staff Type</label>
                                    <select class="form-control" name="user_type" id="user_type" required>
                                        <option value="dean_of_students" {% if staff_member.user_type == 'dean_of_students' %}selected{% endif %}>
                                            Dean of Students
                                        </option>
                                        <option value="finance_director" {% if staff_member.user_type == 'finance_director' %}selected{% endif %}>
                                            Finance Director
                                        </option>
                                        <option value="academic_registrar" {% if staff_member.user_type == 'academic_registrar' %}selected{% endif %}>
                                            Academic Registrar
                                        </option>
                                        <option value="head_of_department" {% if staff_member.user_type == 'head_of_department' %}selected{% endif %}>
                                            Head of Department
                                        </option>
                                        <option value="faculty_dean" {% if staff_member.user_type == 'faculty_dean' %}selected{% endif %}>
                                            Faculty Dean
                                        </option>
                                        <option value="medical_officer" {% if staff_member.user_type == 'medical_officer' %}selected{% endif %}>
                                            Medical Officer
                                        </option>
                                        <option value="nche_officer" {% if staff_member.user_type == 'nche_officer' %}selected{% endif %}>
                                            NCHE Officer
                                        </option>
                                        <option value="lecturer" {% if staff_member.user_type == 'lecturer' %}selected{% endif %}>
                                            Lecturer
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Update Staff Member</button>
                        <a href="{% url 'staff_list' %}" class="btn btn-secondary">Cancel</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}