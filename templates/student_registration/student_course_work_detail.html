
<!-- templates/course_work/course_work_detail.html -->
{% extends 'base.html' %}
{% block title %}Course Works - {{ access_num.access_number }}{% endblock %}

{% block content %}
<div class="container mt-4">
  <h3>Course Works - {{ access_num.student.name }}</h3>
  <p>
    <strong>Access:</strong> {{ access_num.access_number }} |
    <strong>Semester:</strong> {{ access_num.semester }} |
    <strong>Year:</strong> {{ access_num.academic_year }}
  </p>

  <a href="{% url 'pass_book:course_work_edit' access_number=access_num.access_number %}" class="btn btn-success mb-3">
    <i class="bi bi-pencil"></i> Edit
  </a>

  {% if course_works %}
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Course Unit</th>
          <th>Title</th>
          <th>Status</th>
          <th>Submitted</th>
          <th>HOD Certified</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for cw in course_works %}
          <tr>
            <td><code>{{ cw.course_work.course_unit.code }}</code></td>
            <td>{{ cw.course_work.title }}</td>
            <td>
              <span class="badge bg-{{ cw.status|yesno:'success,danger' }} text-dark">
                {{ cw.get_status_display }}
              </span>
            </td>
            <td>{{ cw.submission_date|default:"—" }}</td>
            <td>{% if cw.hod_certified %}✅{% else %}❌{% endif %}</td>
            <td>
              <a href="{% url 'pass_book:course_work_edit' access_number=access_num.access_number %}" class="btn btn-sm btn-outline-primary">Edit</a>
              <a href="{% url 'pass_book:course_work_delete' cw.pk %}" class="btn btn-sm btn-outline-danger">Delete</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="text-muted">No course works recorded.</p>
  {% endif %}
</div>
{% endblock %}


